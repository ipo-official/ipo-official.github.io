<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Treidex Dev Log</title>

	<style>
		.nav {
			overflow: hidden;
		}

		.nav > * {
			padding: 5px;
			margin: 15px;
			float: left;
		}
	</style>
</head>
<body>
	<div class="nav">
		<button class="prev-btn" onclick="Prev()">Previous</button>
		<button class="next-btn" onclick="Next()">Next</button>
	</div>

	<code id="log">Could not load devlog</p>

	<div class="nav">
		<button class="prev-btn" onclick="Prev()">Previous</button>
		<button class="next-btn" onclick="Next()">Next</button>
	</div>

	<script>
		const latestLogNumber = 0; // ðŸ‘ˆ REMEMBER TO UPDATE!!

		var logNum = latestLogNumber;
		const logEl = document.getElementById("log");

		const prevBtns = document.getElementsByClassName("prev-btn");
		const nextBtns = document.getElementsByClassName("next-btn");

		LoadLog();
		Update();

		function Prev()
		{
			logNum--;
			Update();
		}

		function Next()
		{
			logNum++;
			Update();
		}

		function Update()
		{
			if (logNum <= 0)
			{
				logNum = 0;
				for (let btn of prevBtns)
					btn.disabled = true;
			}
			if (logNum >= latestLogNumber)
			{
				logNum = latestLogNumber;
				for (let btn of nextBtns)
					btn.disabled = true;
			}

			if (logNum > 0 && logNum < latestLogNumber)
			{
				for (let btn of prevBtns)
					btn.disabled = false;
				for (let btn of nextBtns)
					btn.disabled = false;
			}
		}

		function LoadLog()
		{
			let client = new XMLHttpRequest();
			client.open("GET", logNum + ".txt");
			client.onreadystatechange = () =>
			{ logEl.innerText = client.responseText; }
			client.send();
		}
	</script>
</body>
</html>